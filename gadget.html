<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
    <title>Live Score</title>
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500italic,500,700,700italic' rel='stylesheet' type='text/css'>
	<style>
    body {
        font-family: 'Roboto', sans-serif;
        font-weight: 300;
        color: #ffffff;
        margin: 0;
        padding: 0;
		width:330px;
		height:400px;
		
    }
    p {
        margin-top: 0;
        margin-bottom: 5px;
    }
    div {
        float: left;
    }
    .container {
        position: relative;
        background-color: #000000;
        width: 330px;
        height: 400px;
        padding: 15px;
        -moz-box-shadow: 1px 1px 10px rgba(255, 255, 255, .8);
        -webkit-box-shadow: 1px 1px 10px rgba(255, 255, 255, .8);
        -o-box-shadow: 1px 1px 10px rgba(255, 255, 255, .8);
        box-shadow: 1px 1px 10px rgba(255, 255, 255, .8);
        border-radius: 5px;
    }
    .header-img
    {
        width: 100%;
        height: auto;
        margin-bottom: 15px;
    }
    .loading-img {
        position: absolute;
        top: 75%;
        left: 50%;
        margin-top: -16px;
        margin-left: -16px;
    }
    .team {
        width: 120px;
        float: left;
        text-align: center;
    }
    .icc-logo {
        width: 60px;
        float: left;
        text-align: center;
    }
    .icc-logo img {
        width: 50px;
        height: auto;
        float: left;
    }
    .team1-name,
    .team2-name {
        color: #0097A7;
        font-size: 20px;
    }
    .team1-score,
    .team2-score {
        font-style: italic;
    }
    .individual-score {
        margin-top: 15px;
    }
    .player {
        background-color: #009688;
        font-size: 14px;
        font-weight: 400;
        margin-top: 0px;
        margin-bottom: 5px;
		margin-left: 15px;
        padding: 5px;
        border-radius: 5px;
        box-shadow: 1px 1px 4px rgba(0, 0, 0, .8);
		width:250px;
    }
    
    </style>


    <script>
	var mid=0;
    var yqlCallback = function(data) {
	var x;
	var y;
	if(System.Gadget.Settings.read("matchsel") == "0" || System.Gadget.Settings.read("matchsel") == "1") //Match 1 or 2, If selected from settings
	{
	mid=System.Gadget.Settings.read("matchsel");
	}
	
	
	
	
        if (data.query.results.Scorecard.constructor === Array) {			//it multiple matches are going on
			
			System.Gadget.Settings.write("only1match",0);					//multiple matches going on,disable drop down in settings
			
            if (data.query.results.Scorecard[mid].past_ings.constructor === Array) 	//if first innings in already over
			{
			

                if (data.query.results.Scorecard[mid].past_ings[0].s.a.i == data.query.results.Scorecard[mid].teams[0].i) 
				{
                    x = 0;
                    y = 1;
                } 
				else 
				{
                    x = 1;
                    y = 0;
                }
				
                var nz = data.query.results.Scorecard[mid].past_ings[0].s.a;
                team1 = data.query.results.Scorecard[mid].teams[x].fn;

                var e = data.query.results.Scorecard[mid].past_ings[1].s.a;
                team2 = data.query.results.Scorecard[mid].teams[y].fn;
				
                document.getElementById("team1-name").innerHTML = team1;
                document.getElementById("team2-name").innerHTML = team2;

                document.getElementById("team1-run").innerHTML = nz.r;
                document.getElementById("team2-run").innerHTML = e.r;

                document.getElementById("team1-wicket").innerHTML = nz.w;
                document.getElementById("team2-wicket").innerHTML = e.w;

                document.getElementById("team1-over").innerHTML = nz.o;
                document.getElementById("team2-over").innerHTML = e.o;

                document.getElementById("team1-runrate").innerHTML = nz.cr;
                document.getElementById("team2-runrate").innerHTML = e.cr;

				if (data.query.results.Scorecard[mid].past_ings[0].d.a.t.constructor === Array) //displayed when no batsmen is out
				{
                player1 = data.query.results.Scorecard[mid].past_ings[0].d.a.t[0];
                player2 = data.query.results.Scorecard[mid].past_ings[0].d.a.t[1];

                document.getElementById("player1-name").innerHTML = player1.name
                document.getElementById("player1-run").innerHTML = player1.r
                document.getElementById("player1-balls").innerHTML = player1.b
                document.getElementById("player1-six").innerHTML = player1.six
                document.getElementById("player1-four").innerHTML = player1.four

                document.getElementById("player2-name").innerHTML = player2.name
                document.getElementById("player2-run").innerHTML = player2.r
                document.getElementById("player2-balls").innerHTML = player2.b
                document.getElementById("player2-six").innerHTML = player2.six
                document.getElementById("player2-four").innerHTML = player2.four
				}
				else if(data.query.results.Scorecard[mid].past_ings[0].d.a.t!=null)		//displayed when one of the batsmen just got out
				{
				player1 = data.query.results.Scorecard[mid].past_ings[0].d.a.t;
				document.getElementById("player1-name").innerHTML = player1.name
                document.getElementById("player1-run").innerHTML = player1.r
                document.getElementById("player1-balls").innerHTML = player1.b
                document.getElementById("player1-six").innerHTML = player1.six
                document.getElementById("player1-four").innerHTML = player1.four
				}

            } 
			else 	//First innings in progress
			{
				if (data.query.results.Scorecard[mid].past_ings.s.a.i == data.query.results.Scorecard[mid].teams[0].i) 
				{
                    x = 0;
                    y = 1;
                } 
				else 
				{
                    x = 1;
                    y = 0;
                }
			
                var nz = data.query.results.Scorecard[mid].past_ings.s.a;
                team1 = data.query.results.Scorecard[mid].teams[x].fn;
                team2 = data.query.results.Scorecard[mid].teams[y].fn;


                document.getElementById("team1-name").innerHTML = team1;
                document.getElementById("team2-name").innerHTML = team2;

                document.getElementById("team1-run").innerHTML = nz.r;
                document.getElementById("team2-run").innerHTML = "";

                document.getElementById("team1-wicket").innerHTML = nz.w;
                document.getElementById("team2-wicket").innerHTML = "";

                document.getElementById("team1-over").innerHTML = nz.o;
                document.getElementById("team2-over").innerHTML = "";

                document.getElementById("team1-runrate").innerHTML = nz.cr;
                document.getElementById("team2-runrate").innerHTML = "";
				
				if (data.query.results.Scorecard[mid].past_ings.d.a.t.constructor === Array) 	//displayed when no batsmen is out
				{
                player1 = data.query.results.Scorecard[mid].past_ings.d.a.t[0];
                player2 = data.query.results.Scorecard[mid].past_ings.d.a.t[1];


                document.getElementById("player1-name").innerHTML = player1.name
                document.getElementById("player1-run").innerHTML = player1.r
                document.getElementById("player1-balls").innerHTML = player1.b
                document.getElementById("player1-six").innerHTML = player1.six
                document.getElementById("player1-four").innerHTML = player1.four

                document.getElementById("player2-name").innerHTML = player2.name
                document.getElementById("player2-run").innerHTML = player2.r
                document.getElementById("player2-balls").innerHTML = player2.b
                document.getElementById("player2-six").innerHTML = player2.six
                document.getElementById("player2-four").innerHTML = player2.four
				}
				else if(data.query.results.Scorecard[mid].past_ings.d.a.t!=null)		//displayed when one of the batsmen gets out
				{
				player1 = data.query.results.Scorecard[mid].past_ings.d.a.t;

                document.getElementById("player1-name").innerHTML = player1.name
                document.getElementById("player1-run").innerHTML = player1.r
                document.getElementById("player1-balls").innerHTML = player1.b
                document.getElementById("player1-six").innerHTML = player1.six
                document.getElementById("player1-four").innerHTML = player1.four
				}

            }


        } 
		else		//only single match is going on
		{
			
			System.Gadget.Settings.write("only1match",1);
            if (data.query.results.Scorecard.past_ings.constructor === Array) 	//Second innings in progress
			{



                if (data.query.results.Scorecard.past_ings[0].s.a.i == data.query.results.Scorecard.teams[0].i) 
				{

                    x = 0;
                    y = 1;
                } else {

                    x = 1;
                    y = 0;
                }

                var nz = data.query.results.Scorecard.past_ings[0].s.a;
                team1 = data.query.results.Scorecard.teams[x].fn;

                var e = data.query.results.Scorecard.past_ings[1].s.a;
                team2 = data.query.results.Scorecard.teams[y].fn;

                document.getElementById("team1-name").innerHTML = team1;
                document.getElementById("team2-name").innerHTML = team2;

                document.getElementById("team1-run").innerHTML = nz.r;
                document.getElementById("team2-run").innerHTML = e.r;

                document.getElementById("team1-wicket").innerHTML = nz.w;
                document.getElementById("team2-wicket").innerHTML = e.w;

                document.getElementById("team1-over").innerHTML = nz.o;
                document.getElementById("team2-over").innerHTML = e.o;

                document.getElementById("team1-runrate").innerHTML = nz.cr;
                document.getElementById("team2-runrate").innerHTML = e.cr;

				if (data.query.results.Scorecard.past_ings[0].d.a.t.constructor === Array) 	//displayed when no batsmen is out
				{
                player1 = data.query.results.Scorecard.past_ings[0].d.a.t[0];
                player2 = data.query.results.Scorecard.past_ings[0].d.a.t[1];

                document.getElementById("player1-name").innerHTML = player1.name
                document.getElementById("player1-run").innerHTML = player1.r
                document.getElementById("player1-balls").innerHTML = player1.b
                document.getElementById("player1-six").innerHTML = player1.six
                document.getElementById("player1-four").innerHTML = player1.four

                document.getElementById("player2-name").innerHTML = player2.name
                document.getElementById("player2-run").innerHTML = player2.r
                document.getElementById("player2-balls").innerHTML = player2.b
                document.getElementById("player2-six").innerHTML = player2.six
                document.getElementById("player2-four").innerHTML = player2.four
				}
				else if(data.query.results.Scorecard.past_ings[0].d.a.t !=null)				//displayed when one of batsmen gets out
				{
				player1 = data.query.results.Scorecard.past_ings[0].d.a.t;

                document.getElementById("player1-name").innerHTML = player1.name
                document.getElementById("player1-run").innerHTML = player1.r
                document.getElementById("player1-balls").innerHTML = player1.b
                document.getElementById("player1-six").innerHTML = player1.six
                document.getElementById("player1-four").innerHTML = player1.four
				}

            } else 			//First innings in progress
			{
				if (data.query.results.Scorecard.past_ings.s.a.i == data.query.results.Scorecard.teams[0].i) 
					{

						x = 0;
						y = 1;
					} else 
					{

						x = 1;
						y = 0;
					}
                var nz = data.query.results.Scorecard.past_ings.s.a;
                team1 = data.query.results.Scorecard.teams[x].fn;
                team2 = data.query.results.Scorecard.teams[y].fn;



                document.getElementById("team1-name").innerHTML = team1;
                document.getElementById("team2-name").innerHTML = team2;

                document.getElementById("team1-run").innerHTML = nz.r;
                document.getElementById("team2-run").innerHTML = "";

                document.getElementById("team1-wicket").innerHTML = nz.w;
                document.getElementById("team2-wicket").innerHTML = "";

                document.getElementById("team1-over").innerHTML = nz.o;
                document.getElementById("team2-over").innerHTML = "";

                document.getElementById("team1-runrate").innerHTML = nz.cr;
                document.getElementById("team2-runrate").innerHTML = "";

				if (data.query.results.Scorecard.past_ings.d.a.t.constructor === Array) 	//displayed when no batsmen is out
				{
                player1 = data.query.results.Scorecard.past_ings.d.a.t[0];
                player2 = data.query.results.Scorecard.past_ings.d.a.t[1];
				
                document.getElementById("player1-name").innerHTML = player1.name
                document.getElementById("player1-run").innerHTML = player1.r
                document.getElementById("player1-balls").innerHTML = player1.b
                document.getElementById("player1-six").innerHTML = player1.six
                document.getElementById("player1-four").innerHTML = player1.four

                document.getElementById("player2-name").innerHTML = player2.name
                document.getElementById("player2-run").innerHTML = player2.r
                document.getElementById("player2-balls").innerHTML = player2.b
                document.getElementById("player2-six").innerHTML = player2.six
                document.getElementById("player2-four").innerHTML = player2.four
				}
				else if(data.query.results.Scorecard.past_ings.d.a.t != null)		//displayed one of the batsmen is out
				{
				player1 = data.query.results.Scorecard.past_ings.d.a.t;
				
                document.getElementById("player1-name").innerHTML = player1.name
                document.getElementById("player1-run").innerHTML = player1.r
                document.getElementById("player1-balls").innerHTML = player1.b
                document.getElementById("player1-six").innerHTML = player1.six
                document.getElementById("player1-four").innerHTML = player1.four
				}
            }

        }
		
		if(System.Gadget.Settings.read("soundgadget") == 1)			//check for Sound Enabled
		{
		if(System.Gadget.Settings.read("sound1")!= "novalue")
		{
		if((System.Gadget.Settings.read("sound1") != document.getElementById("player1-six").innerHTML && document.getElementById("player1-six").innerHTML !="_") || (System.Gadget.Settings.read("sound3") != document.getElementById("player2-six").innerHTML && document.getElementById("player2-six").innerHTML !="_")) 		
		{
			System.Sound.playSound("../sound/click.wav");
		}
		if((System.Gadget.Settings.read("sound2") != document.getElementById("player1-four").innerHTML && document.getElementById("player1-four").innerHTML !="_") || (System.Gadget.Settings.read("sound4") != document.getElementById("player2-four").innerHTML && document.getElementById("player2-four").innerHTML !="_")) 		
		{
		System.Sound.playSound("../sound/click.wav");
		}
		if(System.Gadget.Settings.read("sound5") != document.getElementById("team1-wicket").innerHTML || System.Gadget.Settings.read("sound6") != document.getElementById("team2-wicket").innerHTML)
		{
		System.Sound.playSound("../sound/click.wav");
		}
		}
		
		}
		System.Gadget.Settings.write("sound1",document.getElementById("player1-six").innerHTML);
		System.Gadget.Settings.write("sound2",document.getElementById("player1-four").innerHTML);
		System.Gadget.Settings.write("sound3",document.getElementById("player2-six").innerHTML);
		System.Gadget.Settings.write("sound4",document.getElementById("player2-four").innerHTML);
		System.Gadget.Settings.write("sound5",document.getElementById("team1-wicket").innerHTML);
		System.Gadget.Settings.write("sound6",document.getElementById("team2-wicket").innerHTML);
	
		if(System.Gadget.Settings.read("soundgadget") != "0" && System.Gadget.Settings.read("soundgadget") != "1")	//sound enabled by default
		{
		System.Gadget.Settings.write("soundgadget",1);
		}

    };
	
	
	
    function AutoRefresh(t) 	//Refresh Score
	{
		
        setTimeout("location.reload(true);", t);
		
    }
	System.Gadget.settingsUI = "settings.html";
	
		

    </script>
	
</head>

<body onload="JavaScript:AutoRefresh(10000);">

    <div class="container">
    
		
        <img src="../img/bk.png" class="header-img">
        <div class="team team1">
            <p class="team1-name" id="team1-name">____</p>
            <p class="team1-score">
                <span class="team1-run" id="team1-run">-</span>&nbsp;/
                <span class="team1-wicket" id="team1-wicket">-</span>
            </p>
            <p class="team1-overs">
                <span class="team1-over" id="team1-over">__</span>&nbsp;overs</p>
            <p>(RR:
                <span class="team1-runrate" id="team1-runrate">___</span>)</p>
        </div>
        <div class="icc-logo">
            <img src="../img/logo.png" alt="VS">
        </div>
        <div class="team team2">
            <p class="team2-name" id="team2-name">____</p>
            <p class="team2-score" id="team2-score">
                <span class="team2-run" id="team2-run">-</span>&nbsp;/
                <span class="team2-wicket" id="team2-wicket">-</span>
            </p>
            <p class="team2-overs">
                <span class="team2-over" id="team2-over">___</span>&nbsp;overs</p>
            <p>(RR:
                <span class="team2-runrate" id="team2-runrate">__</span>)</p>
        </div>
        <div class="individual-score">
            <p class="player">
                <span class="player1-name" id="player1-name">______&nbsp;</span>:<span class="player1-run" id="player1-run">__&nbsp;</span>&nbsp;in&nbsp;<span class="player1-balls" id="player1-balls">__&nbsp;</span> balls&nbsp;(&nbsp;<span class="player1-six" id="player1-six">_</span>x6,&nbsp;&nbsp;<span class="player1-four" id="player1-four">_</span>x4&nbsp;)
            </p>
            <p class="player">
                <span class="player2-name" id="player2-name">______&nbsp;</span>:<span class="player2-run" id="player2-run">__&nbsp;</span>&nbsp;in&nbsp;<span class="player2-balls" id="player2-balls">__&nbsp;</span>balls&nbsp;(&nbsp;<span class="player2-six" id="player2-six">_</span>x6,&nbsp;&nbsp;<span class="player2-four" id="player2-four">_</span>x4&nbsp;)
            </p>
			
        </div>
		
    </div>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20cricket.scorecard.live.summary&format=json&diagnostics=true&env=store%3A%2F%2F0TxIGQMQbObzvU4Apia0V0&callback=yqlCallback"></script>
    <script type="text/javascript" src="js/settings.js"></script>

</body>

</html>
